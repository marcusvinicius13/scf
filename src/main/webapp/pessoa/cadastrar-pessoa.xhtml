<ui:composition 
	template="/pessoa/menu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" >
    
    <ui:define name="conteudo">
		<div class="container">
			<h3 class="main-title center titulo">Nova - Pessoa FÃ­sica</h3>
			<div class="row">
   				<h:form id="frmPessoa">
			        <div class="input-field col s12">
			            <h:outputLabel for="nome" value="Nome"/>
			            <h:inputText value="#{pessoaBean.pessoa.nome}" id="nome" />
         	 		</div>
        	 		
       	 			<div class="input-field col s6">
			            <h:outputLabel for="cpf" value="CPF"/>
			            <h:inputText value="#{pessoaBean.pessoa.cpf}" id="cpf" />
        	 		</div>
    	
		    		<div class="input-field col s6">
		            	<h:outputLabel for="dtNascimento" value="Dt. Nascimento"/>
		            	<h:inputText value="#{pessoaBean.dtNascimento}" id="dtNascimento"  styleClass="datepicker" />
       	 			</div>
      	 			
     	 			<div class="col s11"></div>
		
					<div class="col s1" style="margin-bottom: -4%">
						<h:commandLink id="btnEmail" styleClass="waves-effect waves-circle waves-light btn-floating secondary-content"
							action="#{pessoaBean.adcionarEmail()}" >
						    <i class="material-icons">add</i>
						</h:commandLink>
       	 			</div>
     	 		
		        	<div class="input-field col s12">
		            	<h:outputLabel for="email" value="E-mails"/>
		            	<h:inputText value="#{pessoaBean.email.email}" id="email" />
		           	</div>
        
        	 		<div class="row">
        	 			<div class="col s6 left">
         	 				<h:dataTable  id="tabelaEmail" headerClass="Tabela" 
         	 					styleClass="highlight pagination" value="#{pessoaBean.pessoa.emailList}" 
         	 					var="email"  rendered="#{not empty pessoaBean.pessoa.emailList}" rows="2">
							
								<h:column>
									<f:facet name="header">Email</f:facet>
									<h:outputText value="#{email.email}" />
								</h:column>
								
								<h:column>
									<f:facet name="header">Alterar</f:facet>
									<p:commandLink  id="alterarEmail" action="#{pessoaBean.alterarEmail(email)}" process="@this" update="@(form)" ajax="false">
										<i class="icone material-icons" >edit</i>
									</p:commandLink>
								</h:column>
								
								<h:column>
									<f:facet name="header">Excluir</f:facet>
									<p:commandLink id="removerEmail" action="#{pessoaBean.excluirEmail(email)}" process="@this" update="@(form)" ajax="false">
										<i class="icone material-icons" >close</i>
									</p:commandLink>
								</h:column>
							</h:dataTable>
						</div>
       	 			</div>
	      		
					<div class="row">
						<div class="input-field">					    
							<h:commandButton styleClass="btn waves-effect waves-light col s12 center" value="Gravar" action="#{pessoaBean.salvar()}" />
					  	</div>
					</div>
    			</h:form>
			</div> 
		</div>
	</ui:define>
</ui:composition>