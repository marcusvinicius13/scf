<ui:composition 
	template="/compra/menu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" >
    
    <ui:define name="conteudo">
		<div class="container">
			<h3 class="main-title center titulo">Buscar Compras</h3>
			<div class="row">
		    	<h:form id="frmCompra">
		    		<div class="input-field col s12">
						<h:outputLabel for="tipo" value="Tipo"/>
			            <h:inputText value="#{compraBean.compra.tipo.descricao}" id="tipo" />
					</div>

					<div class="row">
					  <div class="input-field">					    
						<h:commandButton class="btn waves-effect waves-light col s12 center" value="Consultar" action="#{compraBean.consultar()}" />
					  </div>
					</div>
		    	</h:form>
					
		    	<p:dialog header="Tipos" widgetVar="modalTipo" width="900" height="500" resizable="false">
					<h:form id="frmTabelaTipos">
						<p:dataTable id="tabelaTipos" value="#{compraBean.tipoList}" var="tipo"
							tableStyleClass="bordered highlight responsive-table" paginator="true" paginatorPosition="bottom" rows="10" >
							
							<p:column width="5%" />
							
							<p:column headerText="Descrição">
								<h:outputText id="nome" value="#{tipo.descricao}" style="text-align: left; margin-left: 2% "/>
							</p:column>
							
							<p:column headerText="Selecionar" width="15%" style="text-align: center;">
								<p:commandLink id="selecionar" styleClass="alterar" action="#{compraBean.selecionarTipo(tipo)}" 
									oncomplete="PF('modalTipo').hide();" update="frmCompra:tipo">
									<i class="icone material-icons" >add</i>
								</p:commandLink>
							</p:column>
						</p:dataTable> 
					</h:form>
				</p:dialog>
			</div> 
		</div>
	</ui:define>
</ui:composition>